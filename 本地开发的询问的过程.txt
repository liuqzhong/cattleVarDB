本地开发环境所需软件

  1. 数据库

  PostgreSQL 15
  下载地址: https://www.postgresql.org/download/windows/
  安装后需要:
  - 创建数据库用户和数据库
  - 或使用容器: docker run -d -p 5432:5432 -e POSTGRES_PASSWORD=cattle_pass postgres:15-alpine

  可选: pgAdmin（数据库管理工具）
  下载地址: https://www.pgadmin.org/download/
  用于可视化管理和查询数据库

  ---
  2. 后端开发

  必需:
  1. Python 3.11+
     下载: https://www.python.org/downloads/
     安装时勾选 "Add Python to PATH"

  2. pip（Python包管理器，随Python一起安装）

  3. 虚拟环境工具 venv（Python自带）

  后端依赖安装:
  cd backend
  pip install -r requirements.txt

  ---
  3. 前端开发

  必需:
  1. Node.js 20+
     下载: https://nodejs.org/
     选择 LTS 版本安装

  2. npm（随Node.js一起安装）

  前端依赖安装:
  cd frontend
  npm install

  ---
  4. 版本控制（推荐）

  Git
  下载: https://git-scm.com/downloads/
  用于代码版本管理

  ---
  5. 代码编辑器（推荐）

  VS Code
  下载: https://code.visualstudio.com/

  推荐插件:
  - Python (Microsoft)
  - Vue - Official (Vue)
  - Pylance (Python智能提示)
  - PostgreSQL (数据库)
  - ESLint (代码检查)

  ---
  完整本地开发启动步骤

  1. 启动数据库

  # 方式一: 使用Docker（推荐，最简单）
  docker run -d --name cattle_db -p 5432:5432 ^
    -e POSTGRES_USER=cattle_user ^
    -e POSTGRES_PASSWORD=cattle_pass ^
    -e POSTGRES_DB=cattle_snp_db ^
    postgres:15-alpine

  # 方式二: 使用本地PostgreSQL
  # 在pgAdmin中创建数据库 cattle_snp_db

  2. 初始化数据库

  # 连接数据库并执行schema
  psql -h localhost -U cattle_user -d cattle_snp_db -f database/schema.sql

  # Windows下如果psql命令不存在，使用完整路径:
  "C:\Program Files\PostgreSQL\15\bin\psql.exe" -h localhost -U cattle_user -d cattle_snp_db -f database/schema.sql

  3. 启动后端

  cd backend

  # 安装依赖（首次运行）
  pip install -r requirements.txt

  # 设置环境变量（Windows CMD）
  set DATABASE_URL=postgresql://cattle_user:cattle_pass@localhost:5432/cattle_snp_db

  # 设置环境变量（Windows PowerShell）
  $env:DATABASE_URL="postgresql://cattle_user:cattle_pass@localhost:5432/cattle_snp_db"

  # 启动服务
  python main.py

  # 或使用uvicorn（更方便开发热重载）
  uvicorn main:app --reload --host 0.0.0.0 --port 8000

  4. 导入数据

  cd backend
  python import_data.py --file ../SNP-disease/variant_sad_all_targets.tsv

  5. 启动前端

  cd frontend

  # 安装依赖（首次运行）
  npm install

  # 启动开发服务器
  npm run dev

  # 访问 http://localhost:5173

  ---
  软件清单总结

  | 类别   | 软件             | 版本要求     | 用途             |
  |------|----------------|----------|----------------|
  | 数据库  | PostgreSQL     | 15+      | 存储SNP数据        |
  | 数据库  | Docker（可选）     | 最新       | 运行PostgreSQL容器 |
  | 后端   | Python         | 3.11+    | 运行FastAPI      |
  | 后端   | pip/virtualenv | 随Python  | 包管理            |
  | 前端   | Node.js        | 20+      | 运行开发服务器        |
  | 前端   | npm            | 随Node.js | 包管理            |
  | 编辑器  | VS Code        | 最新       | 代码编辑           |
  | 版本控制 | Git            | 最新       | 代码管理           |

  ---
  开发端口分配

  前端: http://localhost:5173
  后端API: http://localhost:8000
  API文档: http://localhost:8000/docs
  数据库: localhost:5432

  需要我详细说明某个软件的安装步骤吗？

> 请把我刚才咨询关于本地开发需要的环境配置，生成一个名为LocalDev.MD说明文档吧

● Write(LocalDev.MD)
  ⎿  Wrote 1 lines to LocalDev.MD
     # 本地开发环境配置指南
     ## Cattle SNP Effect Value Database - Local Development Setup
     本文档说明如何配置本地开发环境，用于开发和调试牛SNP效应值数据库系统。
     ---
     ## 目录

● 已创建本地开发环境配置文档 LocalDev.MD。

  文档包含以下内容：

  1. 软件清单 - 必需和可选软件的下载链接
  2. 数据库安装配置 - Docker方式和本地安装方式
  3. 后端环境配置 - Python、虚拟环境、依赖安装
  4. 前端环境配置 - Node.js、npm依赖安装
  5. 完整启动流程 - 从数据库到前端的分步启动指南
  6. 常用开发命令 - 后端、前端、数据库、Docker命令
  7. 故障排查 - 常见问题及解决方案

  文档位置：D:\CCProject\VEP\cattleVarDB\LocalDev.MD

  您可以根据该文档逐步配置本地开发环境。如遇到任何问题，可以参考文档中的故障排查部分。